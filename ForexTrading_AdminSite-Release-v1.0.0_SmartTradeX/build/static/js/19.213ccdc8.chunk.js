(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[19],{443:function(e,a,t){},457:function(e,a,t){"use strict";var n=t(14),c=t(20),r=t(0),i=t.n(r),s=t(5),l=t.n(s),o=t(55),d=t.n(o),u=t(77),j={tag:u.q,size:l.a.string,className:l.a.string,cssModule:l.a.object},b=function(e){var a=e.className,t=e.cssModule,r=e.tag,s=e.size,l=Object(c.a)(e,["className","cssModule","tag","size"]),o=Object(u.m)(d()(a,"input-group",s?"input-group-"+s:null),t);return i.a.createElement(r,Object(n.a)({},l,{className:o}))};b.propTypes=j,b.defaultProps={tag:"div"},a.a=b},459:function(e,a,t){"use strict";var n=t(0),c=t.n(n),r=t(5),i=t.n(r),s=t(456),l={addonType:i.a.oneOf(["prepend","append"]).isRequired,children:i.a.node},o=function(e){return c.a.createElement(s.a,e)};o.propTypes=l,a.a=o},796:function(e,a,t){},831:function(e,a,t){"use strict";t.r(a);var n=t(29),c=t(1),r=t(15),i=t(0),s=(t(116),t(114)),l=t(539),o=t(448),d=t.n(o),u=(t(796),t(453)),j=(t(443),t(445)),b=t(449),m=t.n(b),p=t(532),h=t(450),v=t.n(h),O=t(790),f=t(471),g=t(472),x=t(815),y=t(816),C=t(457),P=t(459),k=t(842),N=t(809),I=t(811),S=t(843),w=t(812),M=t(813),q=t(814),L=t(806),R=t(440),T=(t(451),t(6)),U=[{value:"",label:"All type"},{value:"bet",label:"Bet"},{value:"level",label:"Level"}],K={filter:{},skip:0,limit:20,order:{key:"createdAt",value:"desc"}},z=["level","rewardPercentage","personalKPI","systemKPI","childUserCount","childUserMemberLevel","policyType"],B=function(){var e=[{name:"Level",selector:"level",sortable:!0,maxWidth:"60px"},{name:"Benefit / %",selector:"rewardPercentage",sortable:!0},{name:"Personal Bet / Week",selector:"personalKPI",sortable:!0},{name:"System Bet / Week",selector:"systemKPI",sortable:!0},{name:"Condition",selector:"childUserCount",sortable:!0},{name:"Min level",selector:"childUserMemberLevel",sortable:!0,cell:function(e){var a=e.childUserMemberLevel;return Object(T.jsxs)("div",{children:["f ",a]})}},{name:"Require",selector:"policyMinRequired",sortable:!0},{name:"Policy Type",selector:"policyType",sortable:!0},{name:"Action",selector:"action",cell:function(e){var a=e.level,t=e.rewardPercentage,n=e.personalKPI,c=e.systemKPI,r=e.childUserCount,i=e.childUserMemberLevel,s=e.policyType,o=e.policyMinRequired,d=e.commissionPolicyId;return Object(T.jsx)(l.a,{onClick:function(e){e.preventDefault(),E(!0),Ne({level:a,rewardPercentage:t,personalKPI:n,systemKPI:c,childUserCount:r,childUserMemberLevel:i,policyType:s,policyMinRequired:o,commissionPolicyId:d})},className:"mr-50",size:15})}}],a=Object(i.useState)(K),t=Object(r.a)(a,2),o=t[0],b=t[1],h=Object(i.useState)(!1),B=Object(r.a)(h,2),A=B[0],E=B[1],W=Object(i.useState)(1),D=Object(r.a)(W,2),F=D[0],J=D[1],H=Object(i.useState)(20),V=Object(r.a)(H,2),G=V[0],Q=V[1],X=Object(i.useState)(20),Y=Object(r.a)(X,2),Z=Y[0],$=Y[1],_=Object(i.useState)([]),ee=Object(r.a)(_,2),ae=ee[0],te=ee[1],ne=Object(i.useState)(!1),ce=Object(r.a)(ne,2),re=ce[0],ie=ce[1],se=Object(i.useState)(""),le=Object(r.a)(se,2),oe=le[0],de=le[1],ue=Object(i.useState)("level"),je=Object(r.a)(ue,2),be=je[0],me=je[1],pe=Object(i.useState)(!1),he=Object(r.a)(pe,2),ve=he[0],Oe=he[1],fe=Object(u.a)({defaultValues:{}}),ge=fe.register,xe=fe.errors,ye=fe.handleSubmit,Ce=Object(i.useState)({}),Pe=Object(r.a)(Ce,2),ke=Pe[0],Ne=Pe[1];function Ie(e,a){var t=Object(c.a)({},e);a||ie(!0),Object.keys(t.filter).forEach((function(e){t.filter[e]&&""!==t.filter[e]||delete t.filter[e]}));var n=window.localStorage.getItem("accessToken");if(n){var r=n.replace(/"/g,"");j.a.send({method:"POST",path:"CommissionPolicy/getList",data:t,query:null,headers:{Authorization:"Bearer "+r}}).then((function(e){if(e){var n=e.statusCode,c=e.data,r=e.message;b(t),200===n?($(c.total),te(c.data)):s.c.warn(r||"Something was wrong!")}else $(1),te([]);a||ie(!1)}))}else window.localStorage.clear()}var Se=d.a.debounce((function(e){Ie(e,!0)}),2e3);Object(i.useEffect)((function(){Ie(o)}),[]);var we=function(e,a){Ne(Object(c.a)(Object(c.a)({},ke),{},Object(n.a)({},e,a)))};return Object(T.jsxs)(i.Fragment,{children:[Object(T.jsxs)(O.a,{children:[Object(T.jsxs)(f.a,{className:"mx-0 mt-1 mb-50",children:[Object(T.jsx)(g.a,{sm:"6",children:Object(T.jsxs)("div",{className:"d-flex align-items-center",children:[Object(T.jsx)(x.a,{for:"sort-select",children:"show"}),Object(T.jsxs)(y.a,{className:"dataTable-select",type:"select",bsSize:"sm",id:"sort-select",value:G,onChange:function(e){return function(e){Ie(Object(c.a)(Object(c.a)({},o),{},{limit:parseInt(e.target.value),skip:0})),J(1),Q(parseInt(e.target.value))}(e)},children:[Object(T.jsx)("option",{value:20,children:"20"}),Object(T.jsx)("option",{value:50,children:"50"}),Object(T.jsx)("option",{value:100,children:"100"})]}),Object(T.jsx)(x.a,{for:"sort-select",children:"entries"})]})}),Object(T.jsx)(g.a,{sm:"2",children:Object(T.jsx)(y.a,{onChange:function(e){var a=e.target;!function(e,a){Ie(Object(c.a)(Object(c.a)({},o),{},{filter:Object(c.a)(Object(c.a)({},o.filter),{},Object(n.a)({},e,a)),skip:0}))}(a.name,a.value)},type:"select",value:o.filter&&o.filter.active||"",name:"active",bsSize:"sm",children:U.map((function(e){return Object(T.jsx)("option",{value:e.value,children:e.label})}))})}),Object(T.jsxs)(g.a,{className:"d-flex align-items-center justify-content-sm-end mt-sm-0 mt-1",sm:"4",children:[Object(T.jsx)(x.a,{className:"mr-1",for:"search-input",children:"Search"}),Object(T.jsxs)(C.a,{className:"input-search-group",children:[Object(T.jsxs)(P.a,{addonType:"prepend",isOpen:ve,toggle:function(){Oe(!ve)},children:[Object(T.jsx)(k.a,{size:"sm",color:"primary",caret:!0,outline:!0,children:be}),Object(T.jsx)(N.a,{children:z.map((function(e){return Object(T.jsx)(I.a,{className:"dropdownItem-search",onClick:function(){!function(e){var a=Object(c.a)(Object(c.a)({},o),{},{skip:0});z.forEach((function(e){delete a.filter[e]})),a.filter[e]="",de(""),me(e),Ie(a)}(e)},children:e},e)}))})]}),Object(T.jsx)(y.a,{className:"dataTable-filter",type:"text",bsSize:"sm",id:"search-input",value:oe,onChange:function(e){!function(e){var a=e.target.value;de();var t=Object(c.a)(Object(c.a)({},o),{},{filter:Object(c.a)(Object(c.a)({},o.filter),{},Object(n.a)({},be,a)),skip:0});Se(t)}(e)}})]})]})]}),Object(T.jsx)(v.a,{noHeader:!0,pagination:!0,paginationServer:!0,className:"react-dataTable",columns:e,sortIcon:Object(T.jsx)(p.a,{size:10}),paginationComponent:function(){var e=Number(Math.ceil(Z/G).toFixed(0));return Object(T.jsx)(m.a,{previousLabel:"",nextLabel:"",breakLabel:"...",pageCount:e||1,marginPagesDisplayed:2,pageRangeDisplayed:2,activeClassName:"active",forcePage:0!==F?F-1:0,onPageChange:function(e){return function(e){Ie(Object(c.a)(Object(c.a)({},o),{},{skip:e.selected*o.limit})),J(e.selected+1)}(e)},pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"})},data:ae,progressPending:re})]}),Object(T.jsxs)(S.a,{isOpen:A,toggle:function(){return E(!1)},className:"modal-dialog-centered ",children:[Object(T.jsx)(w.a,{toggle:function(){return E(!1)},children:"Edit Commission Info"}),Object(T.jsx)(M.a,{children:Object(T.jsxs)(q.a,{onSubmit:ye((function(e){!function(e,a){var t=window.localStorage.getItem("accessToken");if(t){var n=t.replace(/"/g,"");j.a.send({method:"POST",path:"CommissionPolicy/updateById",data:e,query:null,headers:{Authorization:"Bearer "+n}}).then((function(e){if(e){var t=e.statusCode,n=e.message;200===t?(s.c.success(a||"Action update successful!"),Ie(o)):s.c.warn(n||"Something was wrong!")}}))}}({id:ke.commissionPolicyId,data:e}),E(!1)})),children:[Object(T.jsxs)(L.a,{children:[Object(T.jsx)(x.a,{children:"Policy Type"}),Object(T.jsxs)(y.a,{type:"select",name:"policyType",innerRef:ge({required:!0}),invalid:xe.policyType&&!0,value:ke.policyType,onChange:function(e){var a=e.target,t=a.name,n=a.value;we(t,n)},children:[Object(T.jsx)("option",{value:"level",children:"level"}),Object(T.jsx)("option",{value:"bet",children:"bet"})]})]}),Object(T.jsxs)(L.a,{children:[Object(T.jsx)(x.a,{for:"firstName",children:"Level"}),Object(T.jsx)(y.a,{id:"level",name:"level",innerRef:ge({required:!0}),invalid:xe.level&&!0,placeholder:"Bruce",value:ke.level||"",onChange:function(e){var a=e.target,t=a.name,n=a.value;we(t,n)}})]}),Object(T.jsxs)(L.a,{children:[Object(T.jsx)(x.a,{for:"rewardPercentage",children:"Benefit / %"}),Object(T.jsx)(y.a,{id:"rewardPercentage",name:"rewardPercentage",innerRef:ge({required:!0}),invalid:xe.rewardPercentage&&!0,placeholder:"",value:ke.rewardPercentage||"",onChange:function(e){var a=e.target,t=a.name,n=a.value;we(t,n)}})]}),Object(T.jsxs)(L.a,{children:[Object(T.jsx)(x.a,{for:"personalKPI",children:"Personal Bet / Week"}),Object(T.jsx)(y.a,{innerRef:ge({required:!0}),invalid:xe.personalKPI&&!0,name:"personalKPI",placeholder:"",value:ke.personalKPI||"",onChange:function(e){var a=e.target,t=a.name,n=a.value;we(t,n)}})]}),Object(T.jsxs)(L.a,{children:[Object(T.jsx)(x.a,{for:"systemKPI",children:"System Bet / Week"}),Object(T.jsx)(y.a,{name:"systemKPI",id:"systemKPI",innerRef:ge({required:!0}),invalid:xe.systemKPI&&!0,value:ke.systemKPI||"",placeholder:"",onChange:function(e){var a=e.target,t=a.name,n=a.value;we(t,n)}})]}),Object(T.jsxs)(L.a,{children:[Object(T.jsx)(x.a,{for:"childUserCount",children:"Condition"}),Object(T.jsx)(y.a,{name:"childUserCount",id:"childUserCount",innerRef:ge({required:!0}),invalid:xe.childUserCount&&!0,value:ke.childUserCount||"",placeholder:"f1",onChange:function(e){var a=e.target,t=a.name,n=a.value;we(t,n)}})]}),Object(T.jsxs)(L.a,{children:[Object(T.jsx)(x.a,{for:"childUserMemberLevel",children:"Min level"}),Object(T.jsx)(y.a,{name:"childUserMemberLevel",id:"childUserMemberLevel",innerRef:ge({required:!0}),invalid:xe.childUserMemberLevel&&!0,value:ke.childUserMemberLevel||"",placeholder:"",onChange:function(e){var a=e.target,t=a.name,n=a.value;we(t,n)}})]}),Object(T.jsxs)(L.a,{children:[Object(T.jsx)(x.a,{for:"policyMinRequired",children:"Require"}),Object(T.jsx)(y.a,{name:"policyMinRequired",id:"policyMinRequired",innerRef:ge({required:!0}),invalid:xe.policyMinRequired&&!0,value:ke.policyMinRequired||"",placeholder:"",onChange:function(e){var a=e.target,t=a.name,n=a.value;we(t,n)}})]}),Object(T.jsx)(L.a,{className:"d-flex mb-0",children:Object(T.jsx)(R.a.Ripple,{className:"mr-1",color:"primary",type:"submit",children:"Submit"})})]})})]})]})};a.default=Object(i.memo)(B)}}]);
//# sourceMappingURL=19.213ccdc8.chunk.js.map