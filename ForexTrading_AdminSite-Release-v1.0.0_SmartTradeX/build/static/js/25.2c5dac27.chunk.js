(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[25],{457:function(e,t,a){"use strict";var n=a(14),s=a(20),c=a(0),r=a.n(c),i=a(5),l=a.n(i),o=a(55),u=a.n(o),d=a(77),j={tag:d.q,size:l.a.string,className:l.a.string,cssModule:l.a.object},b=function(e){var t=e.className,a=e.cssModule,c=e.tag,i=e.size,l=Object(s.a)(e,["className","cssModule","tag","size"]),o=Object(d.m)(u()(t,"input-group",i?"input-group-"+i:null),a);return r.a.createElement(c,Object(n.a)({},l,{className:o}))};b.propTypes=j,b.defaultProps={tag:"div"},t.a=b},459:function(e,t,a){"use strict";var n=a(0),s=a.n(n),c=a(5),r=a.n(c),i=a(456),l={addonType:r.a.oneOf(["prepend","append"]).isRequired,children:r.a.node},o=function(e){return s.a.createElement(i.a,e)};o.propTypes=l,t.a=o},828:function(e,t,a){"use strict";a.r(t);var n=a(29),s=a(1),c=a(15),r=a(0),i=a(114),l=a(448),o=a.n(l),u=a(445),d=a(449),j=a.n(d),b=a(548),m=a(550),p=a(556),O=a(532),h=a(450),f=a.n(h),g=a(453),v=a(808),x=a(842),N=a(809),S=a(811),w=a(790),C=a(471),k=a(472),y=a(815),T=a(816),A=a(457),z=a(459),P=a(843),q=a(812),I=a(813),W=a(814),D=a(806),L=a(440),R=a(452),E=a(451),M=a.n(E),F=a(6),B=[{value:"",label:"All Status"},{value:"New",label:"New"},{value:"Waiting",label:"Waiting"},{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"},{value:"Deleted",label:"Deleted"},{value:"Canceled",label:"Canceled"}],J={filter:{status:""},skip:0,limit:20,order:{key:"createdAt",value:"desc"}},H=["userName","phoneNumber"],U=function(){var e=Object(r.useState)(!1),t=Object(c.a)(e,2),a=t[0],l=t[1],d=Object(g.a)({defaultValues:{}}),h=d.register,E=d.errors,U=d.handleSubmit,V=Object(r.useState)({}),G=Object(c.a)(V,2),K=G[0],Q=G[1],X=Object(r.useState)(!1),Y=Object(c.a)(X,2),Z=Y[0],$=Y[1],_=Object(r.useState)(""),ee=Object(c.a)(_,2),te=ee[0],ae=ee[1],ne=[{name:"ID",selector:"withdrawTransactionId",sortable:!0},{name:"Username",selector:"username",sortable:!0,minWidth:"100px"},{name:"Phone Number",selector:"phoneNumber",sortable:!0,minWidth:"200px"},{name:"Amount",selector:"pointAmount",sortable:!0,cell:function(e){var t=e.pointAmount;return Object(F.jsx)(F.Fragment,{children:Object(R.c)(t)})}},{name:"createdAt",selector:"salary",sortable:!0,minWidth:"200px",cell:function(e){var t=e.createdAt;return Object(F.jsx)("div",{children:t?M()(t).format("lll"):"N/A"})}},{name:"note",selector:"note",sortable:!0,cell:function(e){var t=e.note;return t?Object(F.jsx)("a",{href:"/",onClick:function(a){a.preventDefault(),$(e),ae(t)},children:"Note"}):""}},{name:"Status",selector:"status",sortable:!0},{name:"Action",selector:"action",cell:function(e){var t=e.withdrawTransactionId,a=e.status;return"Canceled"!==a&&"Completed"!==a?Object(F.jsxs)(v.a,{children:[Object(F.jsx)(x.a,{className:"icon-btn hide-arrow",color:"transparent",size:"sm",caret:!0,children:Object(F.jsx)(b.a,{size:15})}),Object(F.jsxs)(N.a,{right:!0,children:[Object(F.jsxs)(S.a,{href:"/",onClick:function(e){var a,n;e.preventDefault(),a={id:t},u.a.send({method:"POST",path:"WithdrawTransaction/acceptRequest",data:a,query:null}).then((function(e){if(e){var t=e.statusCode,a=e.message;200===t?(i.c.success(n||"Action update successful!"),Fe(re)):i.c.warn(a||"Something was wrong!")}}))},children:[Object(F.jsx)(m.a,{className:"mr-50",size:15})," ",Object(F.jsx)("span",{className:"align-middle",children:"Approve"})]}),Object(F.jsxs)(S.a,{href:"/",onClick:function(e){var a,n;e.preventDefault(),a={id:t},u.a.send({method:"POST",path:"WithdrawTransaction/rejectRequest",data:a,query:null}).then((function(e){if(e){var t=e.statusCode,a=e.message;200===t?(i.c.success(n||"Action update successful!"),Fe(re)):i.c.warn(a||"Something was wrong!")}}))},children:[Object(F.jsx)(p.a,{className:"mr-50",size:15})," ",Object(F.jsx)("span",{className:"align-middle",children:"Deny"})]})]})]}):""}}],se=Object(r.useState)(J),ce=Object(c.a)(se,2),re=ce[0],ie=ce[1],le=Object(r.useState)(1),oe=Object(c.a)(le,2),ue=oe[0],de=oe[1],je=Object(r.useState)(20),be=Object(c.a)(je,2),me=be[0],pe=be[1],Oe=Object(r.useState)(20),he=Object(c.a)(Oe,2),fe=he[0],ge=he[1],ve=Object(r.useState)([]),xe=Object(c.a)(ve,2),Ne=xe[0],Se=xe[1],we=Object(r.useState)(!1),Ce=Object(c.a)(we,2),ke=Ce[0],ye=Ce[1],Te=Object(r.useState)(""),Ae=Object(c.a)(Te,2),ze=Ae[0],Pe=Ae[1],qe=Object(r.useState)("username"),Ie=Object(c.a)(qe,2),We=Ie[0],De=Ie[1],Le=Object(r.useState)(!1),Re=Object(c.a)(Le,2),Ee=Re[0],Me=Re[1];function Fe(e,t){var a=Object(s.a)({},e);t||ye(!0),Object.keys(a.filter).forEach((function(e){a.filter[e]&&""!==a.filter[e]||delete a.filter[e]}));var n=window.localStorage.getItem("accessToken");if(n){var c=n.replace(/"/g,"");u.a.send({method:"POST",path:"WithdrawTransaction/getList",data:a,query:null,headers:{Authorization:"Bearer "+c}}).then((function(e){if(e){var n=e.statusCode,s=e.data,c=e.message;ie(a),200===n?(ge(s.total),Se(s.data)):i.c.warn(c||"Something was wrong!")}else ge(1),Se([]);t||ye(!1)}))}else window.localStorage.clear()}var Be=o.a.debounce((function(e){Fe(e,!0)}),2e3);Object(r.useEffect)((function(){Fe(re)}),[]);return Object(F.jsxs)(r.Fragment,{children:[Object(F.jsxs)(w.a,{children:[Object(F.jsxs)(C.a,{className:"mx-0 mt-1 mb-50",children:[Object(F.jsx)(k.a,{sm:"6",children:Object(F.jsxs)("div",{className:"d-flex align-items-center",children:[Object(F.jsx)(y.a,{for:"sort-select",children:"show"}),Object(F.jsxs)(T.a,{className:"dataTable-select",type:"select",bsSize:"sm",id:"sort-select",value:me,onChange:function(e){return function(e){Fe(Object(s.a)(Object(s.a)({},re),{},{limit:parseInt(e.target.value),skip:0})),de(1),pe(parseInt(e.target.value))}(e)},children:[Object(F.jsx)("option",{value:20,children:"20"}),Object(F.jsx)("option",{value:50,children:"50"}),Object(F.jsx)("option",{value:100,children:"100"})]}),Object(F.jsx)(y.a,{for:"sort-select",children:"entries"})]})}),Object(F.jsx)(k.a,{sm:"2",children:Object(F.jsx)(T.a,{onChange:function(e){var t=e.target;!function(e,t){Fe(Object(s.a)(Object(s.a)({},re),{},{filter:Object(s.a)(Object(s.a)({},re.filter),{},Object(n.a)({},e,t)),skip:0}))}(t.name,t.value)},type:"select",value:re.filter?re.filter.status||0:"",name:"status",bsSize:"sm",children:B.map((function(e){return Object(F.jsx)("option",{value:e.value,children:e.label})}))})}),Object(F.jsxs)(k.a,{className:"d-flex align-items-center justify-content-sm-end mt-sm-0 mt-1",sm:"4",children:[Object(F.jsx)(y.a,{className:"mr-1",for:"search-input",children:"Search"}),Object(F.jsxs)(A.a,{className:"input-search-group",children:[Object(F.jsxs)(z.a,{addonType:"prepend",isOpen:Ee,toggle:function(){Me(!Ee)},children:[Object(F.jsx)(x.a,{size:"sm",color:"primary",caret:!0,outline:!0,children:We}),Object(F.jsx)(N.a,{children:H.map((function(e){return Object(F.jsx)(S.a,{className:"dropdownItem-search",onClick:function(){!function(e){var t=Object(s.a)(Object(s.a)({},re),{},{skip:0});H.forEach((function(e){delete t.filter[e]})),t.filter[e]="",Pe(""),De(e),Fe(t)}(e)},children:e},e)}))})]}),Object(F.jsx)(T.a,{className:"dataTable-filter",type:"text",bsSize:"sm",id:"search-input",value:ze,onChange:function(e){!function(e){var t=e.target.value;Pe();var a=Object(s.a)(Object(s.a)({},re),{},{filter:Object(s.a)(Object(s.a)({},re.filter),{},Object(n.a)({},We,t)),skip:0});Be(a)}(e)}})]})]})]}),Object(F.jsx)(f.a,{noHeader:!0,pagination:!0,paginationServer:!0,className:"react-dataTable",columns:ne,sortIcon:Object(F.jsx)(O.a,{size:10}),paginationComponent:function(){var e=Number(Math.ceil(fe/me).toFixed(0));return Object(F.jsx)(j.a,{previousLabel:"",nextLabel:"",breakLabel:"...",pageCount:e||1,marginPagesDisplayed:2,pageRangeDisplayed:2,activeClassName:"active",forcePage:0!==ue?ue-1:0,onPageChange:function(e){return function(e){Fe(Object(s.a)(Object(s.a)({},re),{},{skip:e.selected*re.limit})),de(e.selected+1)}(e)},pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"})},data:Ne,progressPending:ke})]}),Object(F.jsxs)(P.a,{isOpen:a,toggle:function(){return l(!1)},className:"modal-dialog-centered ",children:[Object(F.jsx)(q.a,{toggle:function(){return l(!1)},children:"Edit Withdraw Info"}),Object(F.jsx)(I.a,{children:Object(F.jsxs)(W.a,{onSubmit:U((function(e){!function(e,t){var a=window.localStorage.getItem("accessToken");if(a){var n=a.replace(/"/g,"");u.a.send({method:"POST",path:"WithdrawTransaction/acceptRequest",data:e,query:null,headers:{Authorization:"Bearer "+n}}).then((function(e){if(e){var a=e.statusCode,n=e.message;200===a?(i.c.success(t||"Action update successful!"),Fe(re)):i.c.warn(n||"Something was wrong!")}}))}}({id:K.id,data:e}),l(!1)})),children:[Object(F.jsxs)(D.a,{children:[Object(F.jsx)(y.a,{children:"Status"}),Object(F.jsx)(T.a,{type:"select",name:"status",innerRef:h({required:!0}),invalid:E.status&&!0,value:K.status,onChange:function(e){var t=e.target;!function(e,t){Q(Object(s.a)(Object(s.a)({},K),{},Object(n.a)({},e,t)))}(t.name,t.value)},children:B.map((function(e,t){return t>0?Object(F.jsx)("option",{value:e.value,children:e.label}):null}))})]}),Object(F.jsx)(D.a,{className:"d-flex mb-0",children:Object(F.jsx)(L.a.Ripple,{className:"mr-1",color:"primary",type:"submit",children:"Submit"})})]})})]}),Object(F.jsx)(P.a,{isOpen:Z,toggle:function(){return $(!1)},className:"modal-dialog-centered ",children:Object(F.jsx)(I.a,{children:te})})]})};t.default=Object(r.memo)(U)}}]);
//# sourceMappingURL=25.2c5dac27.chunk.js.map